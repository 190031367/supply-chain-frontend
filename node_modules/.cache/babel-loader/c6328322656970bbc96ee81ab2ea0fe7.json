{"ast":null,"code":"var _jsxFileName = \"/home/ayush/Projects/edgistify/try2/client/src/components/View.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nconst CommentItem = props => {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7\n    },\n    __self: this\n  }, props.text), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, props.time), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, props.author));\n};\n\nclass View extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const comment = {\n        text: this.state.text,\n        username: this.props.username\n      };\n      console.log(comment);\n      axios.post('http://localhost:5000/blogs/' + this.props.match.params.id, null, {\n        params: comment\n      }).then(res => {\n        // console.log(res);\n        console.log(res.data);\n      });\n    };\n\n    this.state = {\n      text: \"\",\n      title: \"\",\n      description: \"\",\n      author: \"\",\n      time: \"\",\n      comments: [{\n        text: \"\",\n        time: \"\",\n        author: \"\"\n      }]\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/blogs/' + this.props.match.params.id).then(res => {\n      const data = res.data;\n      console.log(data);\n      const comments = data.comments.map((com, ind) => {\n        return {\n          text: com.text,\n          time: com.createdAt,\n          author: com.author.username\n        };\n      });\n      const blog = {\n        title: data.title,\n        description: data.description,\n        author: data.author.username,\n        time: data.createdAt,\n        _id: data._id\n      };\n      this.setState({ ...blog,\n        comments\n      });\n    });\n  }\n\n  render() {\n    const comments = this.state.comments.map((com, index) => React.createElement(CommentItem, {\n      key: index,\n      text: com.text,\n      time: com.time,\n      author: com.author,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }));\n    const {\n      text\n    } = this.state; // console.log(commentText);\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col s12 m8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"card-image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"https://images.pexels.com/photos/414612/pexels-photo-414612.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, this.state.title)), React.createElement(\"div\", {\n      class: \"card-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, this.state.description)))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, this.state.title), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, this.state.description), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, this.state.author), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, this.state.time), \"Comments:\", comments, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"text\",\n      key: \"text\",\n      type: \"text\",\n      name: \"text\",\n      value: text,\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Add Comment\")));\n  }\n\n}\n\nexport default View;","map":{"version":3,"sources":["/home/ayush/Projects/edgistify/try2/client/src/components/View.js"],"names":["React","Component","axios","CommentItem","props","text","time","author","View","constructor","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","comment","state","username","console","log","post","match","params","id","then","res","data","title","description","comments","bind","componentDidMount","get","map","com","ind","createdAt","blog","_id","render","index"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,WAAW,GAAIC,KAAD,IAAW;AAC3B,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMA,KAAK,CAACC,IAAZ,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMD,KAAK,CAACE,IAAZ,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMF,KAAK,CAACG,MAAZ,CAHJ,CADJ;AAOH,CARD;;AAUA,MAAMC,IAAN,SAAmBP,SAAnB,CAA6B;AACzBQ,EAAAA,WAAW,GAAG;AACV;;AADU,SAkBdC,YAlBc,GAkBCC,CAAC,IAAI;AAChB,WAAKC,QAAL,CAAc;AAAC,SAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAkBH,CAAC,CAACE,MAAF,CAASE;AAA5B,OAAd;AACH,KApBa;;AAAA,SAsBdC,YAtBc,GAsBCL,CAAC,IAAI;AAChBA,MAAAA,CAAC,CAACM,cAAF;AACA,YAAMC,OAAO,GAAG;AACZb,QAAAA,IAAI,EAAE,KAAKc,KAAL,CAAWd,IADL;AAEZe,QAAAA,QAAQ,EAAE,KAAKhB,KAAL,CAAWgB;AAFT,OAAhB;AAIAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ;AAEAhB,MAAAA,KAAK,CAACqB,IAAN,CAAW,iCAA+B,KAAKnB,KAAL,CAAWoB,KAAX,CAAiBC,MAAjB,CAAwBC,EAAlE,EAAsE,IAAtE,EAA4E;AAACD,QAAAA,MAAM,EAAEP;AAAT,OAA5E,EACCS,IADD,CACMC,GAAG,IAAI;AACT;AACAP,QAAAA,OAAO,CAACC,GAAR,CAAYM,GAAG,CAACC,IAAhB;AACH,OAJD;AAKH,KAnCa;;AAEV,SAAKV,KAAL,GAAa;AACTd,MAAAA,IAAI,EAAE,EADG;AAETyB,MAAAA,KAAK,EAAE,EAFE;AAGTC,MAAAA,WAAW,EAAE,EAHJ;AAITxB,MAAAA,MAAM,EAAE,EAJC;AAKTD,MAAAA,IAAI,EAAE,EALG;AAMT0B,MAAAA,QAAQ,EAAE,CAAC;AACP3B,QAAAA,IAAI,EAAE,EADC;AAEPC,QAAAA,IAAI,EAAE,EAFC;AAGPC,QAAAA,MAAM,EAAE;AAHD,OAAD;AAND,KAAb;AAYA,SAAKG,YAAL,GAAoB,KAAKA,YAAL,CAAkBuB,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKjB,YAAL,GAAoB,KAAKA,YAAL,CAAkBiB,IAAlB,CAAuB,IAAvB,CAApB;AACH;;AAqBDC,EAAAA,iBAAiB,GAAG;AAChBhC,IAAAA,KAAK,CAACiC,GAAN,CAAU,iCAA+B,KAAK/B,KAAL,CAAWoB,KAAX,CAAiBC,MAAjB,CAAwBC,EAAjE,EACDC,IADC,CACIC,GAAG,IAAI;AACX,YAAMC,IAAI,GAAGD,GAAG,CAACC,IAAjB;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAYO,IAAZ;AACA,YAAMG,QAAQ,GAAGH,IAAI,CAACG,QAAL,CAAcI,GAAd,CAAkB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC7C,eAAO;AACHjC,UAAAA,IAAI,EAAEgC,GAAG,CAAChC,IADP;AAEHC,UAAAA,IAAI,EAAE+B,GAAG,CAACE,SAFP;AAGHhC,UAAAA,MAAM,EAAE8B,GAAG,CAAC9B,MAAJ,CAAWa;AAHhB,SAAP;AAKH,OANgB,CAAjB;AAOA,YAAMoB,IAAI,GAAG;AACTV,QAAAA,KAAK,EAAED,IAAI,CAACC,KADH;AAETC,QAAAA,WAAW,EAAEF,IAAI,CAACE,WAFT;AAGTxB,QAAAA,MAAM,EAAEsB,IAAI,CAACtB,MAAL,CAAYa,QAHX;AAITd,QAAAA,IAAI,EAAEuB,IAAI,CAACU,SAJF;AAKTE,QAAAA,GAAG,EAAEZ,IAAI,CAACY;AALD,OAAb;AAOA,WAAK7B,QAAL,CAAc,EAAC,GAAG4B,IAAJ;AAAUR,QAAAA;AAAV,OAAd;AACD,KAnBC;AAoBH;;AAEDU,EAAAA,MAAM,GAAG;AACL,UAAMV,QAAQ,GAAG,KAAKb,KAAL,CAAWa,QAAX,CAAoBI,GAApB,CAAwB,CAACC,GAAD,EAAMM,KAAN,KACrC,oBAAC,WAAD;AAAa,MAAA,GAAG,EAAEA,KAAlB;AAAyB,MAAA,IAAI,EAAEN,GAAG,CAAChC,IAAnC;AAAyC,MAAA,IAAI,EAAEgC,GAAG,CAAC/B,IAAnD;AAAyD,MAAA,MAAM,EAAE+B,GAAG,CAAC9B,MAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADa,CAAjB;AAGA,UAAM;AAACF,MAAAA;AAAD,QAAS,KAAKc,KAApB,CAJK,CAKL;;AACA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,KAAK,EAAC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,GAAG,EAAC,wGAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,KAAK,EAAC,YAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0B,KAAKA,KAAL,CAAWW,KAArC,CADJ,CAJJ,EAOI;AAAK,MAAA,KAAK,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI,KAAKX,KAAL,CAAWY,WAAf,CADA,CAPJ,CADJ,CADJ,EAcI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdJ,CADJ,EAiBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAM,KAAKZ,KAAL,CAAWW,KAAjB,CAjBJ,EAkBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAM,KAAKX,KAAL,CAAWY,WAAjB,CAlBJ,EAmBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAM,KAAKZ,KAAL,CAAWZ,MAAjB,CAnBJ,EAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAM,KAAKY,KAAL,CAAWb,IAAjB,CApBJ,eAsBK0B,QAtBL,EAuBI;AAAM,MAAA,QAAQ,EAAE,KAAKhB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,EAAE,EAAC,MAAV;AAAiB,MAAA,GAAG,EAAC,MAArB;AAA4B,MAAA,IAAI,EAAC,MAAjC;AAAwC,MAAA,IAAI,EAAC,MAA7C;AAAoD,MAAA,KAAK,EAAEX,IAA3D;AAAiE,MAAA,QAAQ,EAAE,KAAKK,YAAhF;AAA8F,MAAA,QAAQ,MAAtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFJ,CAvBJ,CADJ;AA8BH;;AAjGwB;;AAoG7B,eAAeF,IAAf","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\n\nconst CommentItem = (props) => {\n    return(\n        <div>\n            <div>{props.text}</div>\n            <div>{props.time}</div>\n            <div>{props.author}</div>\n        </div>\n    )\n}\n\nclass View extends Component {\n    constructor() {\n        super();\n        this.state = {\n            text: \"\",\n            title: \"\",\n            description: \"\",\n            author: \"\",\n            time: \"\",\n            comments: [{\n                text: \"\",\n                time: \"\",\n                author: \"\"\n            }]\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange = e => {\n        this.setState({[e.target.name] : e.target.value})\n    }\n    \n    handleSubmit = e => {\n        e.preventDefault();\n        const comment = {\n            text: this.state.text,\n            username: this.props.username\n        }\n        console.log(comment);\n\n        axios.post('http://localhost:5000/blogs/'+this.props.match.params.id, null, {params: comment})\n        .then(res => {\n            // console.log(res);\n            console.log(res.data);\n        })\n    }\n      \n    componentDidMount() {\n        axios.get('http://localhost:5000/blogs/'+this.props.match.params.id)\n      .then(res => {\n        const data = res.data;\n        console.log(data);\n        const comments = data.comments.map((com, ind) => {\n            return {\n                text: com.text,\n                time: com.createdAt,\n                author: com.author.username\n            }\n        })\n        const blog = {\n            title: data.title,\n            description: data.description,\n            author: data.author.username,\n            time: data.createdAt,\n            _id: data._id\n        }\n        this.setState({...blog, comments})\n      })\n    }\n    \n    render() {\n        const comments = this.state.comments.map((com, index) => (\n            <CommentItem key={index} text={com.text} time={com.time} author={com.author}/>\n            ))\n        const {text} = this.state;\n        // console.log(commentText);\n        return(\n            <div>\n                <div class=\"row\">\n                    <div class=\"col s12 m8\">\n                        <div class=\"card\">\n                            <div class=\"card-image\">\n                                <img src=\"https://images.pexels.com/photos/414612/pexels-photo-414612.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500\"/>\n                            </div>\n                            <div>\n                                <span class=\"card-title\">{this.state.title}</span>\n                            </div>\n                            <div class=\"card-content\">\n                            <p>{this.state.description}</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div></div>\n                </div>\n                <div>{this.state.title}</div>\n                <div>{this.state.description}</div>\n                <div>{this.state.author}</div>\n                <div>{this.state.time}</div>\n                Comments:\n                {comments}\n                <form onSubmit={this.handleSubmit}>\n                    <input id=\"text\" key=\"text\" type=\"text\" name=\"text\" value={text} onChange={this.handleChange} required/>\n                    <button>Add Comment</button>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default View;"]},"metadata":{},"sourceType":"module"}