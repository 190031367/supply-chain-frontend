{"ast":null,"code":"var _jsxFileName = \"/home/ayush/Projects/edgistify/try2/client/src/components/View.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport '../App.css';\n\nconst CommentItem = props => {\n  return React.createElement(\"div\", {\n    className: \"card-panel comment\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, props.author, this.state.username.substr(0, this.state.username.indexOf('@'))), React.createElement(\"span\", {\n    id: \"comTime\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, props.time.substr(props.time.indexOf('T') + 1, props.time.indexOf('.') - props.time.indexOf('T') - 1), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }, \" \"), props.time.substr(0, props.time.indexOf('T'))), React.createElement(\"div\", {\n    id: \"comText\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, props.text));\n};\n\nclass View extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const comment = {\n        text: this.state.text,\n        username: this.props.username\n      };\n      console.log(comment);\n      axios.post('http://localhost:5000/blogs/' + this.props.match.params.id, null, {\n        params: comment\n      }).then(res => {\n        // console.log(res);\n        this.setState({\n          text: \"\"\n        });\n        this.componentDidMount(); // console.log(res.data);\n      });\n    };\n\n    this.state = {\n      text: \"\",\n      title: \"\",\n      description: \"\",\n      image: \"\",\n      author: \"\",\n      time: \"\",\n      comments: [{\n        text: \"\",\n        time: \"\",\n        author: \"\"\n      }]\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/blogs/' + this.props.match.params.id).then(res => {\n      const data = res.data; // console.log(data);\n\n      const comments = data.comments.map((com, ind) => {\n        return {\n          text: com.text,\n          time: com.createdAt,\n          author: com.author.username\n        };\n      });\n      const blog = {\n        title: data.title,\n        description: data.description,\n        image: data.image,\n        author: data.author.username,\n        time: data.createdAt,\n        _id: data._id\n      };\n      this.setState({ ...blog,\n        comments\n      });\n    });\n  }\n\n  render() {\n    const comments = this.state.comments.map((com, index) => React.createElement(CommentItem, {\n      key: index,\n      text: com.text,\n      time: com.time,\n      author: com.author,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }));\n    const {\n      text\n    } = this.state;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s12 m8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card large viewCard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-image viewCardImage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"Blog\",\n      src: this.state.image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"cardTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, this.state.title)), React.createElement(\"div\", {\n      className: \"cardAuthor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, this.state.author)), React.createElement(\"div\", {\n      className: \"cardTime\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, this.state.time.substr(this.state.time.indexOf('T') + 1, this.state.time.indexOf('.') - this.state.time.indexOf('T') - 1), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \" \"), this.state.time.substr(0, this.state.time.indexOf('T')))), React.createElement(\"div\", {\n      className: \"card-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, this.state.description))), React.createElement(\"div\", {\n      className: \"col s12 m4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Comments\")), React.createElement(\"form\", {\n      className: \"col s12\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-field col s8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"text\",\n      key: \"text\",\n      type: \"text\",\n      name: \"text\",\n      value: text,\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Add a comment\")), React.createElement(\"div\", {\n      className: \"input-field col s4 right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, this.props.username != null ? React.createElement(\"button\", {\n      style: {\n        \"marginTop\": \"10px\"\n      },\n      className: \"btn-small waves-effect waves-light\",\n      type: \"submit\",\n      name: \"action\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"send\")) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      style: {\n        \"marginTop\": \"10px\"\n      },\n      className: \"btn-small waves-effect waves-light\",\n      type: \"submit\",\n      name: \"action\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"send\")), React.createElement(\"div\", {\n      className: \"red-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Login to comment on this post.\"))))), React.createElement(\"div\", {\n      className: \"col s12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, comments)))));\n  }\n\n}\n\nexport default View;","map":{"version":3,"sources":["/home/ayush/Projects/edgistify/try2/client/src/components/View.js"],"names":["React","Component","axios","CommentItem","props","author","state","username","substr","indexOf","time","text","View","constructor","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","comment","console","log","post","match","params","id","then","res","componentDidMount","title","description","image","comments","bind","get","data","map","com","ind","createdAt","blog","_id","render","index"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport '../App.css'\n\nconst CommentItem = (props) => {\n    return(\n        <div className=\"card-panel comment\">\n            <strong>{props.author}{this.state.username.substr(0, this.state.username.indexOf('@'))}</strong>\n            <span id=\"comTime\">\n            {props.time.substr(props.time.indexOf('T')+1,props.time.indexOf('.')-props.time.indexOf('T')-1)}<span> </span>\n            {props.time.substr(0, props.time.indexOf('T'))}\n            </span>\n            <div id=\"comText\">{props.text}</div>\n        </div>\n    )\n}\n\nclass View extends Component {\n    constructor() {\n        super();\n        this.state = {\n            text: \"\",\n            title: \"\",\n            description: \"\",\n            image: \"\",\n            author: \"\",\n            time: \"\",\n            comments: [{\n                text: \"\",\n                time: \"\",\n                author: \"\"\n            }]\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange = e => {\n        this.setState({[e.target.name] : e.target.value})\n    }\n    \n    handleSubmit = e => {\n        e.preventDefault();\n        const comment = {\n            text: this.state.text,\n            username: this.props.username\n        }\n        console.log(comment);\n\n        axios.post('http://localhost:5000/blogs/'+this.props.match.params.id, null, {params: comment})\n        .then(res => {\n            // console.log(res);\n            this.setState({text: \"\"})\n            this.componentDidMount();\n            // console.log(res.data);\n        })\n    }\n      \n    componentDidMount() {\n        axios.get('http://localhost:5000/blogs/'+this.props.match.params.id)\n      .then(res => {\n        const data = res.data;\n        // console.log(data);\n        const comments = data.comments.map((com, ind) => {\n            return {\n                text: com.text,\n                time: com.createdAt,\n                author: com.author.username\n            }\n        })\n        const blog = {\n            title: data.title,\n            description: data.description,\n            image: data.image,\n            author: data.author.username,\n            time: data.createdAt,\n            _id: data._id\n        }\n        this.setState({...blog, comments})\n      })\n    }\n    \n    render() {\n        const comments = this.state.comments.map((com, index) => (\n            <CommentItem key={index} text={com.text} time={com.time} author={com.author}/>\n            ))\n        const {text} = this.state;\n        return(\n            <div>\n                <div className=\"row\">\n                    <div className=\"col s12 m8\">\n                        <div className=\"card large viewCard\">\n                            <div className=\"card-image viewCardImage\">\n                                <img alt=\"Blog\" src={this.state.image}/>\n                            </div>\n                                <div className=\"cardTitle\">\n                                    <span className=\"card-title\">{this.state.title}</span>\n                                </div>\n                                <div className=\"cardAuthor\">\n                                    <div><strong>{this.state.author}</strong></div>\n                                    <div className=\"cardTime\">\n                                        {this.state.time.substr(this.state.time.indexOf('T')+1,this.state.time.indexOf('.')-this.state.time.indexOf('T')-1)}<span> </span>\n                                        {this.state.time.substr(0, this.state.time.indexOf('T'))}\n                                     </div>\n                                </div>\n                            <div className=\"card-content\">\n                                {this.state.description}\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col s12 m4\">\n                        <div className=\"row\">\n                            <div className=\"col s12\">\n                                <h5>Comments</h5>\n                            </div>\n                            <form className=\"col s12\" onSubmit={this.handleSubmit}>\n                                <div className=\"row\">\n                                    <div className=\"input-field col s8\">\n                                        <input id=\"text\" key=\"text\" type=\"text\" name=\"text\" value={text} onChange={this.handleChange} required/>\n                                        <label htmlFor=\"text\">Add a comment</label>\n                                    </div>\n                                    <div className=\"input-field col s4 right\">\n                                        {this.props.username != null ?\n                                            <button style={{\"marginTop\":\"10px\"}} className=\"btn-small waves-effect waves-light\" type=\"submit\" name=\"action\">\n                                                <i className=\"material-icons\">send</i>\n                                            </button>\n                                            :\n                                            <div>\n                                            <button style={{\"marginTop\":\"10px\"}} className=\"btn-small waves-effect waves-light\" type=\"submit\" name=\"action\" disabled>\n                                                <i className=\"material-icons\">send</i>\n                                            </button>\n                                            <div className=\"red-text\">\n                                                Login to comment on this post.\n                                            </div>\n                                            </div>\n                                        }\n                                    </div>\n                                </div>\n                            </form>\n                            <div className=\"col s12\">\n                                {comments}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default View;"]},"metadata":{},"sourceType":"module"}